(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[434],{63:(e,t,a)=>{"use strict";var r=a(7260);a.o(r,"usePathname")&&a.d(t,{usePathname:function(){return r.usePathname}}),a.o(r,"useRouter")&&a.d(t,{useRouter:function(){return r.useRouter}}),a.o(r,"useSearchParams")&&a.d(t,{useSearchParams:function(){return r.useSearchParams}})},508:(e,t,a)=>{"use strict";a.d(t,{A:()=>r});let r=(0,a(1847).A)("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]])},1808:(e,t,a)=>{Promise.resolve().then(a.bind(a,8135))},4926:(e,t,a)=>{"use strict";a.d(t,{A:()=>r});let r=(0,a(1847).A)("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]])},5424:(e,t,a)=>{"use strict";a.d(t,{hD:()=>n,yK:()=>h,c4:()=>d,wR:()=>c});let r="https://real-est-beate-latest.onrender.com";class n extends Error{constructor(e,t,a){super(t),this.status=e,this.message=t,this.data=a,this.name="ApiError"}}async function s(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},{body:a,params:s,headers:l,...o}=t,i=new URL("".concat(r).concat(e));s&&Object.entries(s).forEach(e=>{let[t,a]=e;void 0!==a&&i.searchParams.set(t,String(a))});let d={"Content-Type":"application/json",...l},c=function(e){if("undefined"==typeof document)return;let t=document.cookie.match(new RegExp("(?:^|;\\s*)".concat(e,"=([^;]*)")));return t?decodeURIComponent(t[1]):void 0}("auth_token");c&&(d.Authorization="Bearer ".concat(c));let h=await fetch(i.toString(),{...o,headers:d,body:void 0!==a?JSON.stringify(a):void 0});if(!h.ok){var u,y;let e;try{e=await h.json()}catch(t){e=await h.text()}let t=null!=(y=null!=(u=null==e?void 0:e.detail)?u:null==e?void 0:e.message)?y:"Request failed with status ".concat(h.status);throw new n(h.status,t,e)}if(204!==h.status)return h.json()}let l={get:(e,t)=>s(e,{...t,method:"GET"}),post:(e,t,a)=>s(e,{...a,method:"POST",body:t})},o="auth_token";function i(e){"undefined"!=typeof document&&(document.cookie=["".concat(o,"=").concat(encodeURIComponent(e)),"max-age=".concat(604800),"path=/","SameSite=Lax"].join("; "))}function d(){if("undefined"==typeof document)return;let e=document.cookie.match(new RegExp("(?:^|;\\s*)".concat(o,"=([^;]*)")));return e?decodeURIComponent(e[1]):void 0}function c(){return!!d()}let h={register:async e=>l.post("/auth/register",e),login:async e=>{let t=await l.post("/auth/login",e);return t.access_token&&i(t.access_token),t},verifyOtp:async e=>{let t=await l.post("/auth/verify-otp",e);return t.access_token&&i(t.access_token),t},resendOtp:async e=>l.post("/auth/resend-otp",e),logout:async()=>{try{await l.post("/auth/logout")}finally{"undefined"!=typeof document&&(document.cookie="".concat(o,"=; max-age=0; path=/; SameSite=Lax"))}},me:async()=>l.get("/auth/me")}},5993:(e,t,a)=>{"use strict";a.d(t,{A:()=>r});let r=(0,a(1847).A)("House",[["path",{d:"M15 21v-8a1 1 0 0 0-1-1h-4a1 1 0 0 0-1 1v8",key:"5wwlr5"}],["path",{d:"M3 10a2 2 0 0 1 .709-1.528l7-5.999a2 2 0 0 1 2.582 0l7 5.999A2 2 0 0 1 21 10v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"1d0kgt"}]])},6485:(e,t,a)=>{"use strict";a.d(t,{A:()=>r});let r=(0,a(1847).A)("Calendar",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]])},8135:(e,t,a)=>{"use strict";a.d(t,{default:()=>g});var r=a(5155),n=a(2619),s=a.n(n),l=a(63),o=a(4492),i=a(9384),d=a(9408),c=a(6485),h=a(9715),u=a(8519),y=a(508),p=a(5993),m=a(4926),x=a(9497);let f=[{href:"/landlord",label:"Dashboard",icon:i.A},{href:"/landlord/properties",label:"My Properties",icon:d.A},{href:"/landlord/bookings",label:"Bookings",icon:c.A},{href:"/landlord/leases",label:"Leases",icon:h.A},{href:"/landlord/payments",label:"Payments",icon:u.A},{href:"/landlord/profile",label:"Profile",icon:y.A}];function g(){var e;let t=(0,l.usePathname)(),a=(0,l.useRouter)(),{user:n,logout:i}=(0,x.A)(),d=(null==n?void 0:n.full_name)?n.full_name.split(" ").map(e=>e[0]).join("").slice(0,2).toUpperCase():"L",c=async()=>{await i(),a.push("/login")};return(0,r.jsxs)("aside",{className:"flex flex-col h-screen w-[260px] bg-white border-r border-gray-200 shrink-0 overflow-hidden shadow-[2px_0_8px_rgba(0,0,0,0.06)]",children:[(0,r.jsx)("div",{className:"flex items-center px-4 h-16 border-b border-gray-100 shrink-0",children:(0,r.jsxs)(s(),{href:"/",className:"flex items-center gap-2",children:[(0,r.jsx)(p.A,{className:"h-5 w-5 text-[hsl(35,85%,55%)] shrink-0"}),(0,r.jsx)("span",{className:"font-display text-gray-900 text-lg font-semibold truncate",children:"MBU Properties"})]})}),(0,r.jsx)("div",{className:"px-4 py-3 border-b border-gray-100 shrink-0",children:(0,r.jsxs)("div",{className:"flex items-center gap-3",children:[(0,r.jsx)("div",{className:"h-9 w-9 rounded-full bg-[hsl(35,85%,55%)]/10 border-2 border-[hsl(35,85%,55%)]/30 flex items-center justify-center text-[hsl(35,85%,55%)] font-bold text-xs shrink-0",children:d}),(0,r.jsxs)("div",{className:"min-w-0",children:[(0,r.jsx)("p",{className:"text-gray-900 text-sm font-semibold truncate",children:null!=(e=null==n?void 0:n.full_name)?e:"Landlord"}),(0,r.jsx)("p",{className:"text-xs text-[hsl(35,85%,55%)] font-medium",children:"Landlord"})]})]})}),(0,r.jsx)("nav",{className:"flex-1 px-2 py-4 space-y-1 overflow-y-auto",children:f.map(e=>{let a="/landlord"===e.href?"/landlord"===t:t.startsWith(e.href);return(0,r.jsx)(s(),{href:e.href,children:(0,r.jsxs)("div",{className:"flex items-center gap-3 px-3 py-2.5 rounded-xl transition-all duration-200 group cursor-pointer ".concat(a?"bg-[hsl(35,85%,55%)]/10 text-[hsl(35,85%,55%)]":"text-gray-500 hover:text-gray-900 hover:bg-gray-50"),children:[(0,r.jsx)(e.icon,{className:"h-5 w-5 shrink-0 transition-transform group-hover:scale-110 ".concat(a?"text-[hsl(35,85%,55%)]":"")}),(0,r.jsx)("span",{className:"text-sm font-medium truncate",children:e.label}),a&&(0,r.jsx)(o.P.div,{layoutId:"landlordActiveIndicator",className:"ml-auto h-1.5 w-1.5 rounded-full bg-[hsl(35,85%,55%)]"})]})},e.href)})}),(0,r.jsx)("div",{className:"px-2 py-4 border-t border-gray-100 shrink-0",children:(0,r.jsxs)("button",{onClick:c,className:"flex items-center gap-3 w-full px-3 py-2.5 rounded-xl text-gray-500 hover:text-red-500 hover:bg-red-50 transition-all duration-200 group",children:[(0,r.jsx)(m.A,{className:"h-5 w-5 shrink-0 group-hover:scale-110 transition-transform"}),(0,r.jsx)("span",{className:"text-sm font-medium",children:"Sign Out"})]})})]})}},8519:(e,t,a)=>{"use strict";a.d(t,{A:()=>r});let r=(0,a(1847).A)("CreditCard",[["rect",{width:"20",height:"14",x:"2",y:"5",rx:"2",key:"ynyp8z"}],["line",{x1:"2",x2:"22",y1:"10",y2:"10",key:"1b3vmo"}]])},9384:(e,t,a)=>{"use strict";a.d(t,{A:()=>r});let r=(0,a(1847).A)("LayoutDashboard",[["rect",{width:"7",height:"9",x:"3",y:"3",rx:"1",key:"10lvy0"}],["rect",{width:"7",height:"5",x:"14",y:"3",rx:"1",key:"16une8"}],["rect",{width:"7",height:"9",x:"14",y:"12",rx:"1",key:"1hutg5"}],["rect",{width:"7",height:"5",x:"3",y:"16",rx:"1",key:"ldoo1y"}]])},9408:(e,t,a)=>{"use strict";a.d(t,{A:()=>r});let r=(0,a(1847).A)("Building2",[["path",{d:"M6 22V4a2 2 0 0 1 2-2h8a2 2 0 0 1 2 2v18Z",key:"1b4qmf"}],["path",{d:"M6 12H4a2 2 0 0 0-2 2v6a2 2 0 0 0 2 2h2",key:"i71pzd"}],["path",{d:"M18 9h2a2 2 0 0 1 2 2v9a2 2 0 0 1-2 2h-2",key:"10jefs"}],["path",{d:"M10 6h4",key:"1itunk"}],["path",{d:"M10 10h4",key:"tcdvrf"}],["path",{d:"M10 14h4",key:"kelpxr"}],["path",{d:"M10 18h4",key:"1ulq68"}]])},9497:(e,t,a)=>{"use strict";a.d(t,{A:()=>s});var r=a(2115),n=a(5424);function s(){let[e,t]=(0,r.useState)({authenticated:!1,user:null,loading:!0});(0,r.useEffect)(()=>{let e=(0,n.wR)();if(!e)return void t({authenticated:!1,user:null,loading:!1});n.yK.me().then(e=>t({authenticated:!0,user:e,loading:!1})).catch(()=>{t({authenticated:e,user:null,loading:!1})})},[]);let a=(0,r.useCallback)(async()=>{await n.yK.logout(),t({authenticated:!1,user:null,loading:!1})},[]),s=(0,r.useCallback)(async()=>{let e=(0,n.wR)();if(!e)return void t({authenticated:!1,user:null,loading:!1});try{let e=await n.yK.me();t({authenticated:!0,user:e,loading:!1})}catch(a){t({authenticated:e,user:null,loading:!1})}},[]);return{...e,token:(0,n.c4)(),logout:a,refresh:s}}},9715:(e,t,a)=>{"use strict";a.d(t,{A:()=>r});let r=(0,a(1847).A)("FileText",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]])}},e=>{e.O(0,[694,619,441,255,358],()=>e(e.s=1808)),_N_E=e.O()}]);