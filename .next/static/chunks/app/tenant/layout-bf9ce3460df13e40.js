(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[164],{63:(e,t,a)=>{"use strict";var n=a(7260);a.o(n,"usePathname")&&a.d(t,{usePathname:function(){return n.usePathname}}),a.o(n,"useRouter")&&a.d(t,{useRouter:function(){return n.useRouter}}),a.o(n,"useSearchParams")&&a.d(t,{useSearchParams:function(){return n.useSearchParams}})},508:(e,t,a)=>{"use strict";a.d(t,{A:()=>n});let n=(0,a(1847).A)("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]])},1301:(e,t,a)=>{"use strict";a.d(t,{default:()=>g});var n=a(5155),r=a(2619),s=a.n(r),o=a(63),i=a(4492);let l=(0,a(1847).A)("LayoutDashboard",[["rect",{width:"7",height:"9",x:"3",y:"3",rx:"1",key:"10lvy0"}],["rect",{width:"7",height:"5",x:"14",y:"3",rx:"1",key:"16une8"}],["rect",{width:"7",height:"9",x:"14",y:"12",rx:"1",key:"1hutg5"}],["rect",{width:"7",height:"5",x:"3",y:"16",rx:"1",key:"ldoo1y"}]]);var c=a(6651),u=a(6485),d=a(9715),h=a(8519),y=a(508),p=a(5993),m=a(4926),f=a(9497);let x=[{href:"/tenant",label:"Dashboard",icon:l},{href:"/tenant/browse",label:"Browse Properties",icon:c.A},{href:"/tenant/bookings",label:"My Bookings",icon:u.A},{href:"/tenant/leases",label:"My Leases",icon:d.A},{href:"/tenant/payments",label:"Payments",icon:h.A},{href:"/tenant/profile",label:"Profile",icon:y.A}];function g(){let e=(0,o.usePathname)(),t=(0,o.useRouter)(),{user:a,logout:r}=(0,f.A)();(null==a?void 0:a.full_name)&&a.full_name.split(" ").map(e=>e[0]).join("").slice(0,2).toUpperCase();let l=async()=>{await r(),t.push("/login")};return(0,n.jsxs)("aside",{className:"flex flex-col h-screen w-[260px] bg-white border-r border-gray-200 shrink-0 overflow-hidden shadow-[2px_0_8px_rgba(0,0,0,0.06)]",children:[(0,n.jsx)("div",{className:"flex items-center px-4 h-16 border-b border-gray-100 shrink-0",children:(0,n.jsxs)("div",{className:"flex items-center gap-2",children:[(0,n.jsx)(p.A,{className:"h-5 w-5 text-[hsl(35,85%,55%)] shrink-0"}),(0,n.jsx)("span",{className:"font-display text-gray-900 text-lg font-semibold truncate",children:"EstateVue"})]})}),(0,n.jsx)("nav",{className:"flex-1 px-2 py-4 space-y-1 overflow-y-auto",children:x.map(t=>{let a="/tenant"===t.href?"/tenant"===e:e.startsWith(t.href);return(0,n.jsx)(s(),{href:t.href,children:(0,n.jsxs)("div",{className:"flex items-center gap-3 px-3 py-2.5 rounded-xl transition-all duration-200 group cursor-pointer ".concat(a?"bg-[hsl(35,85%,55%)]/10 text-[hsl(35,85%,55%)]":"text-gray-500 hover:text-gray-900 hover:bg-gray-50"),children:[(0,n.jsx)(t.icon,{className:"h-5 w-5 shrink-0 transition-transform group-hover:scale-110 ".concat(a?"text-[hsl(35,85%,55%)]":"")}),(0,n.jsx)("span",{className:"text-sm font-medium truncate",children:t.label}),a&&(0,n.jsx)(i.P.div,{layoutId:"activeIndicator",className:"ml-auto h-1.5 w-1.5 rounded-full bg-[hsl(35,85%,55%)]"})]})},t.href)})}),(0,n.jsx)("div",{className:"px-2 py-4 border-t border-gray-100 shrink-0",children:(0,n.jsxs)("button",{onClick:l,className:"flex items-center gap-3 w-full px-3 py-2.5 rounded-xl text-gray-500 hover:text-red-500 hover:bg-red-50 transition-all duration-200 group",children:[(0,n.jsx)(m.A,{className:"h-5 w-5 shrink-0 group-hover:scale-110 transition-transform"}),(0,n.jsx)("span",{className:"text-sm font-medium",children:"Sign Out"})]})})]})}},4926:(e,t,a)=>{"use strict";a.d(t,{A:()=>n});let n=(0,a(1847).A)("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]])},5096:(e,t,a)=>{Promise.resolve().then(a.bind(a,1301))},5424:(e,t,a)=>{"use strict";a.d(t,{hD:()=>r,yK:()=>d,c4:()=>c,wR:()=>u});let n="https://real-est-beate-latest.onrender.com";class r extends Error{constructor(e,t,a){super(t),this.status=e,this.message=t,this.data=a,this.name="ApiError"}}async function s(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},{body:a,params:s,headers:o,...i}=t,l=new URL("".concat(n).concat(e));s&&Object.entries(s).forEach(e=>{let[t,a]=e;void 0!==a&&l.searchParams.set(t,String(a))});let c={"Content-Type":"application/json",...o},u=function(e){if("undefined"==typeof document)return;let t=document.cookie.match(new RegExp("(?:^|;\\s*)".concat(e,"=([^;]*)")));return t?decodeURIComponent(t[1]):void 0}("auth_token");u&&(c.Authorization="Bearer ".concat(u));let d=await fetch(l.toString(),{...i,headers:c,body:void 0!==a?JSON.stringify(a):void 0});if(!d.ok){var h,y;let e;try{e=await d.json()}catch(t){e=await d.text()}let t=null!=(y=null!=(h=null==e?void 0:e.detail)?h:null==e?void 0:e.message)?y:"Request failed with status ".concat(d.status);throw new r(d.status,t,e)}if(204!==d.status)return d.json()}let o={get:(e,t)=>s(e,{...t,method:"GET"}),post:(e,t,a)=>s(e,{...a,method:"POST",body:t})},i="auth_token";function l(e){"undefined"!=typeof document&&(document.cookie=["".concat(i,"=").concat(encodeURIComponent(e)),"max-age=".concat(604800),"path=/","SameSite=Lax"].join("; "))}function c(){if("undefined"==typeof document)return;let e=document.cookie.match(new RegExp("(?:^|;\\s*)".concat(i,"=([^;]*)")));return e?decodeURIComponent(e[1]):void 0}function u(){return!!c()}let d={register:async e=>o.post("/auth/register",e),login:async e=>{let t=await o.post("/auth/login",e);return t.access_token&&l(t.access_token),t},verifyOtp:async e=>{let t=await o.post("/auth/verify-otp",e);return t.access_token&&l(t.access_token),t},resendOtp:async e=>o.post("/auth/resend-otp",e),logout:async()=>{try{await o.post("/auth/logout")}finally{"undefined"!=typeof document&&(document.cookie="".concat(i,"=; max-age=0; path=/; SameSite=Lax"))}},me:async()=>o.get("/auth/me")}},5993:(e,t,a)=>{"use strict";a.d(t,{A:()=>n});let n=(0,a(1847).A)("House",[["path",{d:"M15 21v-8a1 1 0 0 0-1-1h-4a1 1 0 0 0-1 1v8",key:"5wwlr5"}],["path",{d:"M3 10a2 2 0 0 1 .709-1.528l7-5.999a2 2 0 0 1 2.582 0l7 5.999A2 2 0 0 1 21 10v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"1d0kgt"}]])},6485:(e,t,a)=>{"use strict";a.d(t,{A:()=>n});let n=(0,a(1847).A)("Calendar",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]])},6651:(e,t,a)=>{"use strict";a.d(t,{A:()=>n});let n=(0,a(1847).A)("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]])},8519:(e,t,a)=>{"use strict";a.d(t,{A:()=>n});let n=(0,a(1847).A)("CreditCard",[["rect",{width:"20",height:"14",x:"2",y:"5",rx:"2",key:"ynyp8z"}],["line",{x1:"2",x2:"22",y1:"10",y2:"10",key:"1b3vmo"}]])},9497:(e,t,a)=>{"use strict";a.d(t,{A:()=>s});var n=a(2115),r=a(5424);function s(){let[e,t]=(0,n.useState)({authenticated:!1,user:null,loading:!0});(0,n.useEffect)(()=>{let e=(0,r.wR)();if(!e)return void t({authenticated:!1,user:null,loading:!1});r.yK.me().then(e=>t({authenticated:!0,user:e,loading:!1})).catch(()=>{t({authenticated:e,user:null,loading:!1})})},[]);let a=(0,n.useCallback)(async()=>{await r.yK.logout(),t({authenticated:!1,user:null,loading:!1})},[]),s=(0,n.useCallback)(async()=>{let e=(0,r.wR)();if(!e)return void t({authenticated:!1,user:null,loading:!1});try{let e=await r.yK.me();t({authenticated:!0,user:e,loading:!1})}catch(a){t({authenticated:e,user:null,loading:!1})}},[]);return{...e,token:(0,r.c4)(),logout:a,refresh:s}}},9715:(e,t,a)=>{"use strict";a.d(t,{A:()=>n});let n=(0,a(1847).A)("FileText",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]])}},e=>{e.O(0,[694,619,441,255,358],()=>e(e.s=5096)),_N_E=e.O()}]);